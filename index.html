<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>공성 관리 도구</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- 로그인 -->
  <div id="login-overlay" class="login-overlay">
    <div class="login-card">
      <h2>공성 관리 도구</h2>
      <form id="login-form">
        <input type="password" id="login-password" placeholder="비밀번호 입력" autocomplete="off" />
        <button type="submit">접속</button>
        <p id="login-error" class="login-error" style="color:#f87171; font-size:13px;"></p>
      </form>
    </div>
  </div>

  <div class="container">
    <button id="logout-btn" style="position:absolute; top:12px; right:12px;">로그아웃</button>

    <h1>공성 관리 도구</h1>

    <!-- 활동 중 멤버 -->
    <section id="active-members" class="card">
      <div class="card-header">
        <h2>활동 중 멤버 (요일별 점수)</h2>

        <div class="week-controls">
          <button id="prev-week-btn">◀ 이전 주</button>
          <span id="week-label"></span>
          <button id="next-week-btn">다음 주 ▶</button>
        </div>
      </div>

      <table>
        <thead>
          <tr>
            <th data-sort-key="rank" class="sortable">순위</th>
            <th data-sort-key="name" class="sortable">닉네임</th>
            <th data-sort-key="role" class="sortable">직책</th>
            <th data-sort-key="mon" class="sortable">월</th>
            <th data-sort-key="tue" class="sortable">화</th>
            <th data-sort-key="wed" class="sortable">수</th>
            <th data-sort-key="thu" class="sortable">목</th>
            <th data-sort-key="fri" class="sortable">금</th>
            <th data-sort-key="sat" class="sortable">토</th>
            <th data-sort-key="sun" class="sortable">일</th>
            <th data-sort-key="total" class="sortable">합계</th>
            <th data-sort-key="avg" class="sortable">평균</th>
            <th>방어</th>
          </tr>
        </thead>
        <tbody id="active-body"></tbody>
      </table>
    </section>

    <!-- 주간 합계표 -->
    <section class="card">
      <h3>주간 합계표</h3>

      <table>
        <thead>
          <tr>
            <th>구분</th>
            <th>월</th>
            <th>화</th>
            <th>수</th>
            <th>목</th>
            <th>금</th>
            <th>토</th>
            <th>일</th>
            <th>합계</th>
            <th>평균</th>
          </tr>
        </thead>
        <tbody id="week-summary-body"></tbody>
      </table>
    </section>

    <!-- 선택 주 탈퇴자 -->
    <section class="card">
      <h2>선택 주 탈퇴자</h2>
      <table id="left-combined-table">
        <thead>
          <tr>
            <th>닉네임</th>
            <th>탈퇴구분</th>
            <th>월</th>
            <th>화</th>
            <th>수</th>
            <th>목</th>
            <th>금</th>
            <th>토</th>
            <th>일</th>
            <th>탈퇴일</th>
            <th>방어</th>
            <th>관리</th>
          </tr>
        </thead>
        <tbody id="left-combined-body"></tbody>
      </table>
    </section>

    <!-- 멤버 누적 관리 -->
    <section id="member-archive-section" class="card admin-only">
      <h2>멤버 누적 관리</h2>

      <table>
        <thead>
          <tr>
            <th>번호</th>
            <th>닉네임</th>
            <th>직책</th>
            <th>가입일</th>
            <th>탈퇴일</th>
            <th>상태</th>
            <th>관리</th>
          </tr>
        </thead>
        <tbody id="member-archive-body"></tbody>
      </table>
    </section>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
